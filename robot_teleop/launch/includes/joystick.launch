<launch>
  <arg name="robot_name" default="robot"/>
  <arg name="respawn"    default="true"/>

  <arg name="cmd_vel" default="robot_velocity_smoother/raw_cmd_vel"/>

  <rosparam file="$(find robot_teleop)/param/joystick.yaml" command="load" />

  <!-- <machine name="raspberrypi" address="10.42.0.207" env-loader="/opt/ros/kinetic/remote.sh" user="ngenator"/> -->

  <!--JOYSTICK NODE -->
  <node name="joystick" pkg="joy" type="joy_node" respawn="true">
    <param name="dev" type="string" value="/dev/input/js0"/>

    <param name="deadzone"          type="double" value="0.05"/>
    <param name="coalesce_interval" type="double" value="0.001"/>
    <param name="autorepeat_rate"   type="int"    value="10"/>
  </node>

  <!-- JOYSTICK TELEOP NODE -->
  <!-- <node name="turtlebot_teleop_joystick" pkg="turtlebot_teleop" type="turtlebot_teleop_joy">
    <param name="scale_angular" type="double" value="1.5"/>
    <param name="scale_linear"  type="double" value="0.5"/>
    <param name="axis_deadman"  type="int"    value="4"/>
    <param name="axis_linear"   type="int"    value="1"/>
    <param name="axis_angular"  type="int"    value="0"/>
    
    <remap from="turtlebot_teleop_joystick/cmd_vel" to="$(arg cmd_vel)"/>
  </node> -->

  <node name="joystick_teleop" pkg="joy_teleop" type="joy_teleop.py" respawn="true">
    <remap from="cmd_vel" to="$(arg cmd_vel)"/>
  </node>

</launch>